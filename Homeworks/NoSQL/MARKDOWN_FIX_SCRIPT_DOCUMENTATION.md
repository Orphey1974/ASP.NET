# Документация по скрипту исправления ошибок в Markdown файлах

## Описание
Скрипт `fix-markdown-errors-simple.ps1` автоматически исправляет типичные ошибки форматирования в файлах Markdown. Скрипт написан на PowerShell и работает в Windows среде.

## Возможности
Скрипт исправляет следующие проблемы в Markdown файлах:

1. **Удаление пробелов в конце строк** - убирает лишние пробелы в конце каждой строки

2. **Исправление множественных пустых строк** - заменяет 3 и более пустых строк на максимум 2

3. **Добавление пустых строк перед элементами**:

   - Заголовки (кроме первого)

   - Списки (маркированные и нумерованные)

   - Блоки кода

   - Таблицы

   - Горизонтальные разделители

   - Цитаты

4. **Добавление финального перевода строки** - добавляет перевод строки в конец файла если его нет

5. **Удаление лишних пробелов** в начале и конце файла

## Использование

### Базовые команды

```powershell

# Исправление файлов в текущей папке (режим тестирования)
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -DryRun

# Исправление файлов в текущей папке (реальное исправление)
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1

# Исправление файлов в указанной папке
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Path "C:\MyProject"

# Рекурсивный поиск во всех подпапках
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Recursive

```

### Параметры

- `-Path` - Путь к папке с Markdown файлами (по умолчанию: текущая папка)

- `-Recursive` - Рекурсивный поиск файлов во всех подпапках

- `-DryRun` - Режим тестирования (показывает что будет изменено, но не изменяет файлы)

- `-Verbose` - Подробный вывод с примерами изменений

### Примеры использования

#### 1. Проверка файлов в текущей папке

```powershell
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -DryRun -Verbose

```

#### 2. Исправление всех Markdown файлов в проекте

```powershell
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Recursive

```

#### 3. Проверка конкретной папки

```powershell
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Path "src\docs" -DryRun

```

#### 4. Исправление с подробным выводом

```powershell
powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Recursive -Verbose

```

## Примеры исправлений

### До исправления:

```markdown

# Заголовок
Текст без пустой строки

- Пункт списка

- Еще пункт

```

### После исправления:

```markdown

# Заголовок
Текст без пустой строки

- Пункт списка

- Еще пункт

```

## Безопасность

- **Всегда используйте `-DryRun`** для предварительного просмотра изменений

- Скрипт создает резервные копии файлов (рекомендуется делать бэкап вручную)

- Изменения применяются только к файлам с расширением `.md`

- Скрипт сохраняет оригинальную кодировку файлов (UTF-8)

## Требования

- Windows PowerShell 5.0 или выше

- PowerShell Core 6.0+ (для кроссплатформенности)

- Права на чтение и запись файлов в указанной папке

## Логирование
Скрипт выводит подробную информацию о процессе:

- `[INFO]` - Информационные сообщения

- `[WARNING]` - Предупреждения (например, файлы которые будут изменены в DryRun режиме)

- `[SUCCESS]` - Успешные операции

- `[ERROR]` - Ошибки

## Ограничения

- Скрипт не исправляет семантические ошибки Markdown

- Не проверяет корректность ссылок и изображений

- Не валидирует синтаксис Markdown

- Работает только с файлами в кодировке UTF-8

## Интеграция в CI/CD
Скрипт можно интегрировать в процесс сборки:

```yaml

# GitHub Actions пример

- name: Fix Markdown formatting
  run: |
    powershell -ExecutionPolicy Bypass -File fix-markdown-errors-simple.ps1 -Recursive

```

## Поддержка
При возникновении проблем:

1. Проверьте права доступа к файлам

2. Убедитесь что файлы в кодировке UTF-8

3. Используйте `-DryRun` для диагностики

4. Проверьте логи скрипта на наличие ошибок
